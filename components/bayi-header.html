<style>
	/* Header Styles */
	.header {
		background: #fff;
		box-shadow: 0 2px 10px rgba(0,0,0,0.08);
		position: sticky;
		top: 0;
		z-index: 100;
	}

	.header .container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 20px;
	}

	.header__wrapper {
		display: flex;
		align-items: center;
		justify-content: space-between;
		height: 54px;
	}

	.header__logo {
		display: flex;
		align-items: center;
	}

	.header__logo a {
		display: flex;
		align-items: center;
		gap: 14px;
		text-decoration: none;
	}

	/* Gradient divider */
	.header__logo a::after {
		content: '';
		display: block;
		width: 1px;
		height: 32px;
		background: linear-gradient(
			to bottom,
			rgba(0, 44, 119, 0) 0%,
			rgba(0, 44, 119, 0.3) 50%,
			rgba(0, 44, 119, 0) 100%
		);
	}

	.header__logo img {
		height: 44px;
	}

	.header__app-title {
		font-size: 15px;
		font-weight: 600;
		color: #002c77;
		letter-spacing: 0.5px;
		text-transform: uppercase;
		white-space: nowrap;
	}

	@media (max-width: 480px) {
		.header__wrapper {
			height: 50px;
		}
		.header__logo img {
			height: 38px;
		}
		.header__logo a::after {
			height: 26px;
		}
		.header__app-title {
			font-size: 13px;
		}
	}

	@media (max-width: 360px) {
		.header__app-title,
		.header__logo a::after {
			display: none;
		}
	}

	.bayi-header-nav {
		display: none; /* Nav her zaman gizli - sidebar'dan acilacak */
		align-items: center;
		gap: 30px;
	}

	.bayi-header-nav nav ul {
		display: flex;
		list-style: none;
		gap: 25px;
	}

	.bayi-header-nav nav ul li a {
		text-decoration: none;
		color: #333;
		font-size: 14px;
		font-weight: 500;
		transition: color 0.2s;
	}

	.bayi-header-nav nav ul li a:hover {
		color: #002c77;
	}

	.header__user-panel {
		display: none; /* User panel gizli - sadece can ve hamburger gorunecek */
	}

	.header__user-panel ul {
		display: flex;
		align-items: center;
		list-style: none;
		gap: 20px;
	}

	.header__user-panel .date-display {
		display: flex;
		flex-direction: column;
		align-items: flex-end;
		font-size: 12px;
		color: #666;
	}

	.header__user-panel .date-display span:first-child {
		font-weight: 600;
		color: #333;
	}

	.header__user-panel .icon-btn {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 40px;
		height: 40px;
		border-radius: 10px;
		background: #f5f7fa;
		transition: background 0.2s;
	}

	.header__user-panel .icon-btn:hover {
		background: #e8ecf1;
	}

	.header__user-panel .icon-btn img {
		width: 20px;
		height: 20px;
	}

	.header__user-panel .badge {
		position: absolute;
		top: -5px;
		right: -5px;
		background: #e53935;
		color: #fff;
		font-size: 11px;
		font-weight: 600;
		min-width: 18px;
		height: 18px;
		border-radius: 9px;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.badge.hidden { display: none; }

	/* Notification Styles for Dealer */
	.notification-container {
		position: relative;
	}
	@keyframes badge-pop {
		0% { transform: scale(0); }
		50% { transform: scale(1.2); }
		100% { transform: scale(1); }
	}
	@keyframes badge-pulse {
		0%, 100% { transform: scale(1); }
		50% { transform: scale(1.1); }
	}
	.badge.pulse { animation: badge-pulse 0.5s ease; }
	@keyframes bell-shake {
		0%, 100% { transform: rotate(0); }
		25% { transform: rotate(-15deg); }
		50% { transform: rotate(15deg); }
		75% { transform: rotate(-10deg); }
	}
	.notification-btn.shake svg, .notification-btn.shake img { animation: bell-shake 0.5s ease; }
	.notification-dropdown {
		position: absolute;
		top: calc(100% + 10px);
		right: 0;
		background: #fff;
		border-radius: 12px;
		box-shadow: 0 5px 25px rgba(0,0,0,0.15);
		width: 360px;
		max-height: 480px;
		opacity: 0;
		visibility: hidden;
		transform: translateY(-10px);
		transition: all 0.2s ease;
		z-index: 200;
		overflow: hidden;
		display: flex;
		flex-direction: column;
	}
	.notification-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }
	.notification-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 16px 18px;
		border-bottom: 1px solid #eee;
		flex-shrink: 0;
	}
	.notification-header-title { font-size: 16px; font-weight: 600; color: #333; }
	.notification-mark-all {
		font-size: 13px;
		color: #002c77;
		cursor: pointer;
		background: none;
		border: none;
		font-family: inherit;
	}
	.notification-mark-all:hover { text-decoration: underline; }
	.notification-list { overflow-y: auto; flex: 1; max-height: 380px; }
	.notification-item {
		display: flex;
		gap: 12px;
		padding: 14px 18px;
		border-bottom: 1px solid #f0f0f0;
		cursor: pointer;
		transition: background 0.2s;
		position: relative;
	}
	.notification-item:hover { background: #f9f9f9; }
	.notification-item.unread { background: #f0f7ff; }
	.notification-item.unread::before {
		content: '';
		position: absolute;
		left: 6px;
		top: 50%;
		transform: translateY(-50%);
		width: 8px;
		height: 8px;
		background: #3b82f6;
		border-radius: 50%;
	}
	.notification-icon {
		width: 40px;
		height: 40px;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
	}
	.notification-icon svg { width: 20px; height: 20px; color: #fff; }
	.notification-icon.accepted { background: #22c55e; }
	.notification-icon.rejected { background: #ef4444; }
	.notification-icon.pending { background: #3b82f6; }
	.notification-icon.price_updated { background: #f59e0b; }
	.notification-icon.cancelled { background: #6b7280; }
	.notification-icon.created, .notification-icon.requested { background: #8b5cf6; }
	.notification-icon.default { background: #6b7280; }
	.notification-content { flex: 1; min-width: 0; }
	.notification-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 4px; }
	.notification-message {
		font-size: 13px;
		color: #666;
		line-height: 1.4;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}
	.notification-time { font-size: 11px; color: #999; margin-top: 6px; }
	.notification-empty { text-align: center; padding: 40px 20px; color: #666; }
	.notification-empty svg { width: 48px; height: 48px; color: #ddd; margin-bottom: 12px; }
	/* Toast Notifications */
	.toast-container {
		position: fixed;
		top: 80px;
		right: 20px;
		z-index: 9999;
		display: flex;
		flex-direction: column;
		gap: 10px;
	}
	.toast {
		background: #fff;
		border-radius: 12px;
		box-shadow: 0 5px 25px rgba(0,0,0,0.15);
		padding: 16px;
		min-width: 320px;
		max-width: 400px;
		animation: toast-slide-in 0.3s ease;
		position: relative;
		overflow: hidden;
	}
	@keyframes toast-slide-in {
		from { transform: translateX(100%); opacity: 0; }
		to { transform: translateX(0); opacity: 1; }
	}
	.toast.removing { animation: toast-slide-out 0.3s ease forwards; }
	@keyframes toast-slide-out {
		from { transform: translateX(0); opacity: 1; }
		to { transform: translateX(100%); opacity: 0; }
	}
	.toast-progress {
		position: absolute;
		bottom: 0;
		left: 0;
		height: 3px;
		background: #002c77;
		animation: toast-progress 5s linear;
	}
	@keyframes toast-progress { from { width: 100%; } to { width: 0%; } }
	.toast-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
	.toast-icon {
		width: 32px;
		height: 32px;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
	}
	.toast-icon svg { width: 16px; height: 16px; color: #fff; }
	.toast-icon.accepted { background: #22c55e; }
	.toast-icon.rejected { background: #ef4444; }
	.toast-icon.pending { background: #3b82f6; }
	.toast-icon.price_updated { background: #f59e0b; }
	.toast-icon.cancelled { background: #6b7280; }
	.toast-icon.created, .toast-icon.requested { background: #8b5cf6; }
	.toast-icon.default { background: #6b7280; }
	.toast-title { font-size: 14px; font-weight: 600; color: #333; flex: 1; }
	.toast-close { background: none; border: none; cursor: pointer; padding: 4px; color: #999; }
	.toast-close:hover { color: #333; }
	.toast-message { font-size: 13px; color: #666; line-height: 1.4; margin-bottom: 12px; }
	.toast-action {
		display: inline-flex;
		align-items: center;
		gap: 6px;
		font-size: 13px;
		color: #002c77;
		font-weight: 500;
		cursor: pointer;
		background: none;
		border: none;
		font-family: inherit;
		padding: 0;
	}
	.toast-action:hover { text-decoration: underline; }
	.toast-action svg { width: 14px; height: 14px; }
	@media (max-width: 768px) {
		.notification-dropdown {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			width: 100%;
			max-height: 100%;
			border-radius: 0;
		}
		.toast-container { top: auto; bottom: 20px; left: 20px; right: 20px; }
		.toast { min-width: auto; max-width: none; }
	}

	/* Mobil Kontroller Container - Her zaman gorunur */
	.header__mobile-controls {
		display: flex;
		align-items: center;
		gap: 8px;
	}

	/* Hamburger Menu - Her zaman gorunur */
	.header__mobile {
		display: flex;
		width: 40px;
		height: 40px;
		align-items: center;
		justify-content: center;
		cursor: pointer;
	}

	.header__mobile span,
	.header__mobile span::before,
	.header__mobile span::after {
		display: block;
		width: 24px;
		height: 2px;
		background: #333;
		position: relative;
		transition: all 0.3s;
	}

	.header__mobile span::before,
	.header__mobile span::after {
		content: '';
		position: absolute;
		left: 0;
	}

	.header__mobile span::before {
		top: -7px;
	}

	.header__mobile span::after {
		top: 7px;
	}

	/* Responsive - artik tum gorunumlerde ayni layout */
	@media (max-width: 768px) {
		/* Mobil icin kucuk ayarlamalar */
	}

	/* Mobile Notification Bell */
	.header__mobile-notification {
		display: flex;
		position: relative;
		width: 40px;
		height: 40px;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		background: #f5f7fa;
		border-radius: 10px;
	}

	.header__mobile-notification:hover {
		background: #e8ecf1;
	}

	.header__mobile-notification svg {
		width: 20px;
		height: 20px;
		stroke: #333;
	}

	.header__mobile-notification .badge {
		position: absolute;
		top: -2px;
		right: -2px;
		min-width: 18px;
		height: 18px;
		background: #e31e24;
		color: #fff;
		font-size: 11px;
		font-weight: 600;
		border-radius: 9px;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 0 4px;
	}
</style>

<header class="header">
	<div class="container">
		<div class="header__wrapper">
			<div class="header__logo">
				<a href="bayi-anasayfa.html">
					<img src="./İpragaz Bayi_files/iPRAGAZ-02-140x40.svg" alt="İpragaz">
					<span class="header__app-title">Bayi Uygulamasi</span>
				</a>
			</div>

			<div class="bayi-header-nav">
				<nav>
					<ul>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/b2b/reports/all-b2b-reports">Raporlar</a></li>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/tum-urunler-b2b">Siparis Ver</a></li>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/b2b/my-orders">Dolum Siparislerim</a></li>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/b2b/order">Siparislerim</a></li>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/b2b/staff">Calisanlar</a></li>
						<li><a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/logout">Cikis</a></li>
					</ul>
				</nav>

				<div class="header__user-panel">
					<ul class="desktop-panel">
						<li>
							<div class="date-display">
								<span id="header-date-day"></span>
								<span id="header-date-weekday"></span>
							</div>
						</li>
						<li>
							<a href="#" class="icon-btn">
								<img src="./İpragaz Bayi_files/search.svg" alt="Ara">
							</a>
						</li>
						<li>
							<a href="https://ipappbayi.ipragaz.com.tr/bayi/tr/cart" class="icon-btn">
								<img src="./İpragaz Bayi_files/basket.svg" alt="Sepet">
								<span class="badge" id="header-cart-badge">0</span>
							</a>
						</li>
						<li class="notification-container">
							<a href="#" class="icon-btn notification-btn" id="notificationBtn">
								<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:20px;height:20px;">
									<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
									<path d="M13.73 21a2 2 0 0 1-3.46 0"/>
								</svg>
								<span class="badge hidden" id="notificationBadge">0</span>
							</a>
							<!-- Notification Dropdown -->
							<div class="notification-dropdown" id="notificationDropdown">
								<div class="notification-header">
									<span class="notification-header-title">Bildirimler</span>
									<button class="notification-mark-all" id="markAllReadBtn">Tumunu Okundu Isaretle</button>
								</div>
								<div class="notification-list" id="notificationList">
									<div class="notification-empty">
										<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
											<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
											<path d="M13.73 21a2 2 0 0 1-3.46 0"/>
										</svg>
										<p>Bildirim bulunmuyor</p>
									</div>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>

			<!-- Mobil Kontroller (Can + Hamburger) -->
			<div class="header__mobile-controls">
				<div class="header__mobile-notification" id="mobileNotificationContainer">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
						<path d="M13.73 21a2 2 0 0 1-3.46 0"/>
					</svg>
					<span class="badge" id="mobileNotificationBadge">0</span>
					<!-- Mobile Notification Dropdown -->
					<div class="notification-dropdown" id="mobileNotificationDropdown">
						<div class="notification-header">
							<span class="notification-header-title">Bildirimler</span>
							<button class="notification-mark-all" id="mobileMarkAllReadBtn">Tumunu Okundu Isaretle</button>
						</div>
						<div class="notification-list" id="mobileNotificationList">
							<div class="notification-empty">
								<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
									<path d="M13.73 21a2 2 0 0 1-3.46 0"/>
								</svg>
								<p>Bildirim bulunmuyor</p>
							</div>
						</div>
					</div>
				</div>
				<div class="header__mobile" id="hamburger-btn"><span></span></div>
			</div>
		</div>
	</div>
</header>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<script>
// Notification System for Dealer
const DealerNotificationUI = {
	isInitialized: false,
	currentUserId: null,
	currentUserType: 'dealer',

	async init() {
		if (this.isInitialized) return;

		// Wait for supabase and service to be ready
		if (typeof supabaseClient === 'undefined' || typeof NotificationsService === 'undefined') {
			setTimeout(() => this.init(), 100);
			return;
		}

		// Get current dealer from sessionStorage
		const dealerId = sessionStorage.getItem('bayi_dealer_id');
		if (!dealerId) return;

		this.currentUserId = dealerId;
		this.isInitialized = true;

		// Setup event listeners
		this.setupEventListeners();

		// Load initial notifications
		await this.loadNotifications();

		// Subscribe to realtime
		this.subscribeToRealtime();
	},

	setupEventListeners() {
		const notificationBtn = document.getElementById('notificationBtn');
		const notificationDropdown = document.getElementById('notificationDropdown');
		const markAllBtn = document.getElementById('markAllReadBtn');

		if (notificationBtn) {
			notificationBtn.addEventListener('click', (e) => {
				e.preventDefault();
				notificationDropdown.classList.toggle('active');
			});
		}

		if (markAllBtn) {
			markAllBtn.addEventListener('click', () => this.markAllAsRead());
		}

		// Close dropdown when clicking outside
		document.addEventListener('click', (e) => {
			if (notificationDropdown && !e.target.closest('.notification-container')) {
				notificationDropdown.classList.remove('active');
			}
		});
	},

	async loadNotifications() {
		const { data: notifications, error } = await NotificationsService.getAll(
			this.currentUserId,
			this.currentUserType,
			{ limit: 20 }
		);

		if (error) {
			console.error('Error loading notifications:', error);
			return;
		}

		this.renderNotifications(notifications);
		this.updateBadge(notifications);
	},

	renderNotifications(notifications) {
		const list = document.getElementById('notificationList');
		if (!list) return;

		if (!notifications || notifications.length === 0) {
			list.innerHTML = `
				<div class="notification-empty">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
						<path d="M13.73 21a2 2 0 0 1-3.46 0"/>
					</svg>
					<p>Bildirim bulunmuyor</p>
				</div>
			`;
			return;
		}

		list.innerHTML = notifications.map(n => this.renderNotificationItem(n)).join('');

		// Add click handlers
		list.querySelectorAll('.notification-item').forEach(item => {
			item.addEventListener('click', () => {
				const id = item.dataset.id;
				const offerId = item.dataset.offerId;
				this.handleNotificationClick(id, offerId);
			});
		});
	},

	renderNotificationItem(notification) {
		const timeAgo = this.getTimeAgo(notification.created_at);
		const iconClass = notification.action || 'default';
		const unreadClass = notification.is_read ? '' : 'unread';

		return `
			<div class="notification-item ${unreadClass}" data-id="${notification.id}" data-offer-id="${notification.offer_id || ''}">
				<div class="notification-icon ${iconClass}">
					${this.getActionIcon(notification.action)}
				</div>
				<div class="notification-content">
					<div class="notification-title">${notification.title}</div>
					<div class="notification-message">${notification.message}</div>
					<div class="notification-time">${timeAgo}</div>
				</div>
			</div>
		`;
	},

	getActionIcon(action) {
		const icons = {
			accepted: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>',
			rejected: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>',
			pending: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',
			price_updated: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>',
			cancelled: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>',
			created: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>',
			requested: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>',
			message: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>'
		};
		return icons[action] || '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>';
	},

	getTimeAgo(dateString) {
		const date = new Date(dateString);
		const now = new Date();
		const seconds = Math.floor((now - date) / 1000);

		if (seconds < 60) return 'Az once';
		if (seconds < 3600) return Math.floor(seconds / 60) + ' dk once';
		if (seconds < 86400) return Math.floor(seconds / 3600) + ' saat once';
		if (seconds < 604800) return Math.floor(seconds / 86400) + ' gun once';
		return date.toLocaleDateString('tr-TR');
	},

	updateBadge(notifications) {
		const badge = document.getElementById('notificationBadge');
		if (!badge) return;

		const unreadCount = notifications ? notifications.filter(n => !n.is_read).length : 0;

		if (unreadCount > 0) {
			badge.textContent = unreadCount > 99 ? '99+' : unreadCount;
			badge.classList.remove('hidden');
		} else {
			badge.classList.add('hidden');
		}
	},

	async handleNotificationClick(notificationId, offerId) {
		// Mark as read
		await NotificationsService.markAsRead(notificationId);

		// Refresh list
		await this.loadNotifications();

		// Navigate to offer if available
		if (offerId) {
			window.location.href = 'bayi-musteri-ekle.html?offer_id=' + offerId;
		}
	},

	async markAllAsRead() {
		await NotificationsService.markAllAsRead(this.currentUserId, this.currentUserType);
		await this.loadNotifications();
	},

	subscribeToRealtime() {
		NotificationsService.subscribe(this.currentUserId, (notification) => {
			// Show toast
			this.showToast(notification);

			// Shake bell
			const btn = document.getElementById('notificationBtn');
			if (btn) {
				btn.classList.add('shake');
				setTimeout(() => btn.classList.remove('shake'), 500);
			}

			// Pulse badge
			const badge = document.getElementById('notificationBadge');
			if (badge) {
				badge.classList.add('pulse');
				setTimeout(() => badge.classList.remove('pulse'), 500);
			}

			// Reload notifications
			this.loadNotifications();
		});
	},

	showToast(notification) {
		const container = document.getElementById('toastContainer');
		if (!container) return;

		const toast = document.createElement('div');
		toast.className = 'toast';
		toast.innerHTML = `
			<div class="toast-progress"></div>
			<div class="toast-header">
				<div class="toast-icon ${notification.action || 'default'}">
					${this.getActionIcon(notification.action)}
				</div>
				<span class="toast-title">${notification.title}</span>
				<button class="toast-close" onclick="this.closest('.toast').remove()">
					<svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
						<line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
					</svg>
				</button>
			</div>
			<div class="toast-message">${notification.message}</div>
			${notification.offer_id ? `
				<button class="toast-action" onclick="window.location.href='bayi-musteri-ekle.html?offer_id=${notification.offer_id}'">
					Teklifi Goruntule
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M5 12h14"/><path d="M12 5l7 7-7 7"/>
					</svg>
				</button>
			` : ''}
		`;

		container.appendChild(toast);

		// Auto remove after 5 seconds
		setTimeout(() => {
			toast.classList.add('removing');
			setTimeout(() => toast.remove(), 300);
		}, 5000);
	}
};

// Initialize when document is ready
document.addEventListener('DOMContentLoaded', () => {
	// Wait a bit for other scripts to load
	setTimeout(() => DealerNotificationUI.init(), 500);
});
</script>
