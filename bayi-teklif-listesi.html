<!DOCTYPE html>
<html lang="tr">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Teklif Listesi - İpragaz Bayi</title>
	<meta http-equiv="Content-Language" content="Turkish">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="shortcut icon" type="image/x-icon" media="all" href="https://ipappbayi.ipragaz.com.tr/bayi/_ui/responsive/theme-ipragaz/images/faviconNew.jpg">
	<script src="js/project-auth-check.js"></script>
	<link rel="stylesheet" type="text/css" href="./İpragaz Bayi_files/css">
	<link rel="stylesheet" type="text/css" media="all" href="./İpragaz Bayi_files/style.css">
	<link rel="stylesheet" type="text/css" href="./css/bayi-teklif-listesi.css">
</head>

<body>
	<!-- Header Component -->
	<div id="bayi-header"></div>

	<!-- Main Content -->
	<main class="main-content">
		<!-- Page Header -->
		<div class="page-header">
			<div class="page-header-left">
				<h1>Teklif Listesi</h1>
				<p>Oluşturduğunuz tüm teklifleri görüntüleyin</p>
			</div>
			<div class="page-header-right">
				<a href="bayi-teklif-olustur.html" class="btn-primary">
					<svg viewBox="0 0 24 24" fill="currentColor">
						<path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
					</svg>
					Yeni Teklif Oluştur
				</a>
			</div>
		</div>

		<!-- Filter Section -->
		<div class="filter-section">
			<div class="filter-row">
				<div class="search-box">
					<svg viewBox="0 0 24 24" fill="currentColor">
						<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
					</svg>
					<input type="text" id="search-input" placeholder="Teklif veya müşteri adı ile ara...">
				</div>
				<div class="filter-buttons">
					<button class="filter-btn active" data-filter="all">
						Tümü
						<span class="count">0</span>
					</button>
					<button class="filter-btn requested" data-filter="requested">
						Talep
						<span class="count">0</span>
					</button>
					<button class="filter-btn pending" data-filter="pending">
						Bekleyen
						<span class="count">0</span>
					</button>
					<button class="filter-btn accepted" data-filter="accepted">
						Kabul
						<span class="count">0</span>
					</button>
					<button class="filter-btn passive" data-filter="passive">
						Pasif
						<span class="count">0</span>
					</button>
					<button class="filter-btn rejected divider-left" data-filter="rejected">
						İptal
						<span class="count">0</span>
					</button>
				</div>
			</div>
		</div>

		<!-- Customer List -->
		<div class="offer-list" id="customer-list">
			<!-- Müşteriler Supabase'den dinamik olarak yüklenir -->
			<div class="loading-placeholder" style="text-align: center; padding: 40px; color: #666;">
				<div class="spinner" style="width: 40px; height: 40px; border: 3px solid #f3f3f3; border-top: 3px solid #e31e24; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 15px;"></div>
				<p>Müşteriler yükleniyor...</p>
			</div>
		</div>

		<!-- Pagination Controls -->
		<div class="pagination-container" id="pagination-container" style="display: none;">
			<div class="pagination-info">
				<span id="pagination-info-text">1-20 / 150 müşteri</span>
			</div>
			<div class="pagination-controls">
				<button class="pagination-btn" id="prev-page" disabled>
					<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
					Önceki
				</button>
				<div class="pagination-pages" id="pagination-pages">
					<!-- Dinamik sayfa numaraları -->
				</div>
				<button class="pagination-btn" id="next-page">
					Sonraki
					<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
				</button>
			</div>
			<div class="pagination-size">
				<label>Sayfa başına:</label>
				<select id="page-size-select">
					<option value="10">10</option>
					<option value="20" selected>20</option>
					<option value="50">50</option>
					<option value="100">100</option>
				</select>
			</div>
		</div>
	</main>

	<!-- Mobile Sidebar Component -->
	<div id="bayi-mobile-sidebar"></div>

	<script src="./İpragaz Bayi_files/jquery-3.6.0.min.js"></script>
	<!-- Supabase -->
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
	<script src="./js/supabase-client.js"></script>
	<script src="./js/services/customers-service.js"></script>
	<script src="./js/services/dealers-service.js"></script>
	<script src="./js/services/offers-service.js"></script>
	<script src="./js/services/notifications-service.js"></script>
	<script src="./js/services/offer-logs-service.js"></script>
	<script src="./js/component-loader.js"></script>
	<script src="./js/bayi-teklif-listesi.js"></script>
</body>
</html>
