<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrum Agent Dashboard - Ä°pragaz</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>ğŸ­ Scrum Agent TakÄ±mÄ±</h1>
                <span class="subtitle">Ä°pragaz LPG Bayi YÃ¶netim Sistemi</span>
            </div>
            <div class="header-right">
                <div class="team-avatars" id="teamAvatars">
                    <!-- JS ile doldurulacak -->
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Input Section -->
            <section class="input-section">
                <div class="input-card">
                    <h2>ğŸ’¡ Yeni GÃ¶rev</h2>
                    <textarea 
                        id="taskInput" 
                        placeholder="Talebinizi veya sorunuzu yazÄ±n...

Ã–rnek: 'MÃ¼ÅŸteri listesine arama ve filtreleme Ã¶zelliÄŸi ekle'
Ã–rnek: 'SipariÅŸ durumu gÃ¼ncellenince bildirim gÃ¶nder'
Ã–rnek: 'Dashboard'a aylÄ±k satÄ±ÅŸ grafiÄŸi ekle'"
                        rows="4"
                    ></textarea>
                    
                    <details class="context-details">
                        <summary>ğŸ“‹ Ek BaÄŸlam (Opsiyonel)</summary>
                        <textarea
                            id="contextInput"
                            placeholder="Varsa ek bilgiler: mevcut kod yapÄ±sÄ±, kÄ±sÄ±tlamalar, tercihler..."
                            rows="3"
                        ></textarea>
                    </details>

                    <details class="error-details">
                        <summary>ğŸ› Console Hata Raporu (Opsiyonel)</summary>
                        <textarea
                            id="errorReportInput"
                            placeholder="Sayfada aldÄ±ÄŸÄ±nÄ±z console hatalarÄ±nÄ± buraya yapÄ±ÅŸtÄ±rÄ±n...

Ã–rnek:
Uncaught TypeError: ReportsService.getDashboardStats is not a function
    at backoffice-raporlar.html:156

TarayÄ±cÄ± console'u aÃ§mak iÃ§in: F12 veya Cmd+Option+J"
                            rows="4"
                        ></textarea>
                        <p class="error-hint">ğŸ’¡ Agent'lar bu hatalarÄ± gÃ¶rerek daha doÄŸru Ã§Ã¶zÃ¼m Ã¼retebilir.</p>
                    </details>

                    <button id="startBtn" class="btn-primary" onclick="startTask()">
                        ğŸš€ GÃ¶revi BaÅŸlat
                    </button>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-header">
                    <h2>ğŸ“Š Ä°lerleme Durumu</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
                
                <div class="phases" id="phases">
                    <div class="phase" data-phase="analysis">
                        <div class="phase-icon">ğŸ“‹</div>
                        <div class="phase-name">Analiz</div>
                        <div class="phase-status">â³</div>
                    </div>
                    <div class="phase" data-phase="discussion">
                        <div class="phase-icon">ğŸ’¬</div>
                        <div class="phase-name">TartÄ±ÅŸma</div>
                        <div class="phase-status">â³</div>
                    </div>
                    <div class="phase" data-phase="development">
                        <div class="phase-icon">ğŸ’»</div>
                        <div class="phase-name">GeliÅŸtirme</div>
                        <div class="phase-status">â³</div>
                    </div>
                    <div class="phase" data-phase="testing">
                        <div class="phase-icon">ğŸ§ª</div>
                        <div class="phase-name">Test</div>
                        <div class="phase-status">â³</div>
                    </div>
                    <div class="phase" data-phase="summary">
                        <div class="phase-icon">ğŸ“Š</div>
                        <div class="phase-name">SonuÃ§</div>
                        <div class="phase-status">â³</div>
                    </div>
                </div>
            </section>

            <!-- Chat Section -->
            <section class="chat-section" id="chatSection" style="display: none;">
                <div class="chat-header">
                    <h2>ğŸ’¬ TakÄ±m KonuÅŸmalarÄ±</h2>
                    <button class="btn-secondary" onclick="toggleFullscreen()">â›¶ Tam Ekran</button>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <!-- Mesajlar buraya eklenecek -->
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats-section" id="statsSection" style="display: none;">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="statCalls">0</div>
                        <div class="stat-label">API Ã‡aÄŸrÄ±sÄ±</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statTokens">0</div>
                        <div class="stat-label">Token</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statCost">$0.00</div>
                        <div class="stat-label">Maliyet</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statMessages">0</div>
                        <div class="stat-label">Mesaj</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Previous Logs Sidebar -->
        <aside class="sidebar" id="sidebar">
            <h3>ğŸ“š GeÃ§miÅŸ GÃ¶revler</h3>
            <div class="logs-list" id="logsList">
                <!-- JS ile doldurulacak -->
            </div>
        </aside>
    </div>

    <!-- Log Detail Modal -->
    <div class="modal" id="logModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Log DetayÄ±</h2>
                <button class="btn-close" onclick="closeModal()">âœ•</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Log iÃ§eriÄŸi -->
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
